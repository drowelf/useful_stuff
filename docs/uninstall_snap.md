> NOTE: This was generated by ChatGPT. I've successfully used it an Ubuntu Desktop 20.04 LTS. On the first step, I found that things like "gnome-3-*" didn't work as expected, so I replaced that with the actual name.

---

Here’s a reliable way to completely remove **snap** from Ubuntu. Be warned: this will break some default apps (like Firefox on newer Ubuntu releases) since they are shipped as snaps. You may need to reinstall replacements from the official `apt` repositories or PPAs.

---

### 1. Remove snapd and installed snaps

```bash
# List all snaps
snap list

# Remove all snaps (do them one by one, starting with dependencies)
sudo snap remove --purge firefox
sudo snap remove --purge snap-store
sudo snap remove --purge gnome-3-*
sudo snap remove --purge gtk-common-themes
sudo snap remove --purge core*
# ...repeat until `snap list` is empty

# Remove snapd itself
sudo apt purge --autoremove snapd -y
```

---

### 2. Remove leftover directories

```bash
sudo rm -rf /var/cache/snapd/
rm -rf ~/snap
```

---

### 3. Block snapd from being reinstalled automatically

Ubuntu sometimes reinstalls `snapd` as a dependency. To prevent this:

```bash
sudo apt-mark hold snapd
```

Or add a preference rule:

```bash
sudo nano /etc/apt/preferences.d/nosnap.pref
```

Put this inside:

```
Package: snapd
Pin: release a=*
Pin-Priority: -10
```

Save and exit.

---

### 4. (Optional) Reinstall APT versions of apps

Some apps (like Firefox) need to be reinstalled from the official Ubuntu repositories or PPAs:

```bash
sudo add-apt-repository ppa:mozillateam/ppa
sudo apt update
sudo apt install firefox
```

---

✅ At this point, snap should be **completely removed and prevented from coming back**.

---

Do you want me to also give you a **post-removal cleanup check script** that verifies snap is gone and automatically reinstalls apt-based Firefox (and others) if needed?
